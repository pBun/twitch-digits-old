<div id="main" data-ng-class="{ready: chart.ready}">
  <div class="loader-walk">
    <div></div><div></div><div></div><div></div><div></div>
  </div>
  <a class="controls-trigger" data-ng-click="showControls = !showControls">{{!showControls ? 'Open' : 'Close'}} controls</a>
  <div data-ng-class="{open:showControls}" id="control-panel">
    <div class="field">
      <label for="game-limit">Game limit</label>
      <input id="game-limit" type="number" min="0" max="100" step="1" data-ng-model="gameLimit">
    </div>
    <div class="field">
      <label for="stream-limit">Stream limit per game</label>
      <input id="stream-limit" type="number" min="0" max="100" step="1" data-ng-model="streamLimit">
    </div>
    <div class="field">
      <button class="refresh" data-ng-click="refreshChartData()">Refresh data</button>
    </div>
  </div>
  <div id="chart">
    <div id="explanation">
      <div class="game-image image-wrapper">
        <img data-ng-show="chart.current" data-ng-src="{{chart.current.image}}" alt="{{chart.current.name}}">
      </div>
      <div class="stream-wrapper" data-ng-show="chart.current.type === 'stream'">
        <span id="percentage">{{ chart.current.viewers / chart.currentGame.viewers | percent : 1}}</span><br/>
        of all <span>{{chart.currentGame.name}}</span> viewers are currently watching {{chart.current.name}}
      </div>
      <div class="game-wrapper" data-ng-show="chart.current.type === 'game'">
        <span id="percentage">{{ chart.current.viewers / gameData.viewers | percent : 1}}</span><br/>
        of all viewers are currently watching {{chart.current.name}}
      </div>
    </div>
  </div>
</div>
